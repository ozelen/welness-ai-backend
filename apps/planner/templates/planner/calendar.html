{% extends "base.html" %}
{% block title %}Planner{% endblock %}
{% block content %}
<div class="container mx-auto px-4 py-8">
	<div class="mb-6 flex items-center justify-between">
		<h1 class="text-2xl font-bold">Planner</h1>
		<div class="space-x-2">
			<a href="?week={{ (week_start|date:'o') }}-{{ (week_start|date:'W'|add:'-1') }}" class="px-3 py-2 border rounded">Previous</a>
			<a href="?week={{ (week_end|date:'o') }}-{{ (week_end|date:'W'|add:'1') }}" class="px-3 py-2 border rounded">Next</a>
		</div>
	</div>
	<div class="bg-white rounded shadow overflow-hidden">
		<div class="grid grid-cols-7 bg-gray-50 border-b">
			{% for day in week_days %}
			<div class="p-3 text-center font-medium">{{ day|date:"D M j" }}</div>
			{% endfor %}
		</div>
		<div class="grid grid-cols-7">
			{% for day in week_days %}
			<div class="min-h-40 p-3 border-r border-gray-200 {% if forloop.last %}border-r-0{% endif %}">
				<div class="space-y-2 text-sm">
					{% for ev in events_by_day|get_item:day %}
					<div class="border rounded p-2">
						{{ ev.title }}
					</div>
					{% empty %}
					<div class="text-gray-400 text-center">No events</div>
					{% endfor %}
				</div>
			</div>
			{% endfor %}
		</div>
	</div>
</div>
{% endblock %}
